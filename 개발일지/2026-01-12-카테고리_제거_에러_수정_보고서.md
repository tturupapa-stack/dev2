# ì¹´í…Œê³ ë¦¬ ì œê±° ì—ëŸ¬ ìˆ˜ì • ë³´ê³ ì„œ

**ì‘ì„±ì¼**: 2026-01-12  
**ì‘ì„±ì**: ê°œë°œíŒ€  
**ëª©ì **: ì‚¬ì´ë“œë°”ì—ì„œ ì¹´í…Œê³ ë¦¬ë¥¼ ì œê±°í•  ê²½ìš° ë°œìƒí•˜ëŠ” ì—ëŸ¬ ìˆ˜ì •

---

## ğŸ› ë°œê²¬ëœ ì—ëŸ¬

### ì—ëŸ¬ ìƒí™©
- ì‚¬ìš©ìê°€ ì¹´í…Œê³ ë¦¬ë¥¼ í•˜ë‚˜ ì´ìƒ ì„ íƒí•œ í›„ ë¸Œëœë“œ/ì œí’ˆì„ ì„ íƒ
- ì´í›„ ì¹´í…Œê³ ë¦¬ë¥¼ í•˜ë‚˜ë¼ë„ ì œê±°í•  ê²½ìš° ì—ëŸ¬ ë°œìƒ

### ì—ëŸ¬ ì›ì¸ ë¶„ì„

#### ë¬¸ì œì 
1. **ì„¸ì…˜ ìƒíƒœ ë¶ˆì¼ì¹˜**: ì¹´í…Œê³ ë¦¬ ì œê±° ì‹œ í•„í„°ë§ëœ ë¸Œëœë“œ/ì œí’ˆ ëª©ë¡ì´ ë³€ê²½ë˜ì§€ë§Œ, ì„¸ì…˜ ìƒíƒœì— ì €ì¥ëœ ê°’ì´ ìƒˆë¡œìš´ ëª©ë¡ì— ì—†ì„ ìˆ˜ ìˆìŒ
2. **ì¸ë±ìŠ¤ ì˜¤ë¥˜**: `filtered_brands.index()` ë˜ëŠ” `list().index()` í˜¸ì¶œ ì‹œ ê°’ì´ ëª©ë¡ì— ì—†ìœ¼ë©´ `ValueError` ë°œìƒ
3. **ë¹„êµ ì œí’ˆ ìœ íš¨ì„±**: ì €ì¥ëœ ë¹„êµ ì œí’ˆì´ í•„í„°ë§ëœ ëª©ë¡ì— ì—†ì„ ìˆ˜ ìˆìŒ

#### ë°œìƒ ì‹œë‚˜ë¦¬ì˜¤
```
1. ì‚¬ìš©ìê°€ ì¹´í…Œê³ ë¦¬ A, B ì„ íƒ
2. ì¹´í…Œê³ ë¦¬ Aì˜ ë¸Œëœë“œ X ì„ íƒ
3. ë¸Œëœë“œ Xì˜ ì œí’ˆ Y ì„ íƒ
4. ì¹´í…Œê³ ë¦¬ B ì œê±°
5. í•„í„°ë§ëœ ë¸Œëœë“œ ëª©ë¡ì—ì„œ ë¸Œëœë“œ Xê°€ ì‚¬ë¼ì§
6. ì„¸ì…˜ ìƒíƒœì˜ main_brand = "X"ê°€ filtered_brandsì— ì—†ìŒ
7. filtered_brands.index("X") í˜¸ì¶œ ì‹œ ValueError ë°œìƒ
```

---

## âœ… ìˆ˜ì • ì‚¬í•­

### 1. ì¹´í…Œê³ ë¦¬ ë³€ê²½ ê°ì§€ ë° ê´€ë ¨ ì„ íƒ ì´ˆê¸°í™”

#### ìˆ˜ì • ì „
```python
category_filter = st.multiselect(
    "ğŸ“‚ ì¹´í…Œê³ ë¦¬ ì„ íƒ",
    options=categories,
    default=st.session_state.get('category_filter', categories),
    key="category_filter"
)
# ì¹´í…Œê³ ë¦¬ ë³€ê²½ ì—¬ë¶€ í™•ì¸ ì—†ìŒ
```

#### ìˆ˜ì • í›„
```python
# ì´ì „ ì¹´í…Œê³ ë¦¬ ì„ íƒ ê°€ì ¸ì˜¤ê¸°
previous_category_filter = st.session_state.get('category_filter', categories)
category_filter = st.multiselect(
    "ğŸ“‚ ì¹´í…Œê³ ë¦¬ ì„ íƒ",
    options=categories,
    default=previous_category_filter,
    key="category_filter"
)

# ì¹´í…Œê³ ë¦¬ê°€ ë³€ê²½ë˜ì—ˆëŠ”ì§€ í™•ì¸ (ì¶”ê°€/ì œê±°)
category_changed = set(category_filter) != set(previous_category_filter)

# ì¹´í…Œê³ ë¦¬ê°€ ë³€ê²½ë˜ë©´ ê´€ë ¨ ì„ íƒ ì´ˆê¸°í™”
if category_changed:
    if 'main_brand' in st.session_state:
        st.session_state.main_brand = ""
    if 'main_product' in st.session_state:
        st.session_state.main_product = None
    if 'main_product_label' in st.session_state:
        st.session_state.main_product_label = ""
    if 'compare_products' in st.session_state:
        st.session_state.compare_products = []
    if 'compare_products_labels' in st.session_state:
        st.session_state.compare_products_labels = []
```

**íš¨ê³¼**: ì¹´í…Œê³ ë¦¬ ë³€ê²½ ì‹œ ê´€ë ¨ ì„ íƒì„ ìë™ìœ¼ë¡œ ì´ˆê¸°í™”í•˜ì—¬ ë¶ˆì¼ì¹˜ ë°©ì§€

---

### 2. ì•ˆì „í•œ ì¸ë±ìŠ¤ ê³„ì‚° ë¡œì§

#### ìˆ˜ì • ì „
```python
index=0 if not st.session_state.get('main_brand') else (
    filtered_brands.index(st.session_state.get('main_brand')) + 1 
    if st.session_state.get('main_brand') in filtered_brands else 0
)
```

#### ìˆ˜ì • í›„
```python
# ì„¸ì…˜ ìƒíƒœì˜ ë¸Œëœë“œê°€ í•„í„°ë§ëœ ëª©ë¡ì— ìˆëŠ”ì§€ ì•ˆì „í•˜ê²Œ í™•ì¸
current_main_brand = st.session_state.get('main_brand', '')
safe_index = 0
if current_main_brand and current_main_brand in filtered_brands:
    try:
        safe_index = filtered_brands.index(current_main_brand) + 1
    except (ValueError, IndexError):
        safe_index = 0

main_brand = st.selectbox(
    "ğŸ·ï¸ ë©”ì¸ ë¸Œëœë“œ ì„ íƒ (1ê°œ)",
    options=[""] + filtered_brands,
    index=safe_index,
    key="main_brand"
)
```

**íš¨ê³¼**: 
- `try-except`ë¡œ ì¸ë±ìŠ¤ ì˜¤ë¥˜ ë°©ì§€
- ê°’ì´ ëª©ë¡ì— ì—†ìœ¼ë©´ ì•ˆì „í•˜ê²Œ ì¸ë±ìŠ¤ 0 ì‚¬ìš©
- ì˜ˆì™¸ ìƒí™© ì²˜ë¦¬ ê°•í™”

---

### 3. ì œí’ˆ ì„ íƒ ì•ˆì „ì„± ê°•í™”

#### ìˆ˜ì • ì „
```python
index=0 if not st.session_state.get('main_product') else (
    list(product_options_filtered.keys()).index(st.session_state.get('main_product_label', "")) + 1 
    if st.session_state.get('main_product_label') in product_options_filtered.keys() else 0
)
```

#### ìˆ˜ì • í›„
```python
# ì„¸ì…˜ ìƒíƒœì˜ ì œí’ˆ ë¼ë²¨ì´ í•„í„°ë§ëœ ëª©ë¡ì— ìˆëŠ”ì§€ ì•ˆì „í•˜ê²Œ í™•ì¸
current_main_product_label = st.session_state.get('main_product_label', '')
safe_index = 0
if current_main_product_label and current_main_product_label in product_options_filtered.keys():
    try:
        safe_index = list(product_options_filtered.keys()).index(current_main_product_label) + 1
    except (ValueError, IndexError):
        safe_index = 0

main_product_label = st.selectbox(
    "ğŸ“¦ ë©”ì¸ ì œí’ˆ ì„ íƒ (1ê°œ)",
    options=[""] + list(product_options_filtered.keys()),
    index=safe_index,
    key="main_product_select"
)
```

**íš¨ê³¼**: ì œí’ˆ ì„ íƒ ì‹œì—ë„ ì•ˆì „í•œ ì¸ë±ìŠ¤ ê³„ì‚° ì ìš©

---

### 4. ë¹„êµ ì œí’ˆ ìœ íš¨ì„± ê²€ì¦

#### ìˆ˜ì • ì „
```python
compare_products_labels = st.multiselect(
    "ğŸ”„ ë¹„êµ ì œí’ˆ ì„ íƒ (ìµœëŒ€ 2ê°œ)",
    options=list(compare_options.keys()),
    default=st.session_state.get('compare_products_labels', []),
    max_selections=2,
    key="compare_products_select"
)
```

#### ìˆ˜ì • í›„
```python
# ì„¸ì…˜ ìƒíƒœì˜ ë¹„êµ ì œí’ˆ ë¼ë²¨ ì¤‘ ìœ íš¨í•œ ê²ƒë§Œ í•„í„°ë§
previous_compare_labels = st.session_state.get('compare_products_labels', [])
valid_compare_labels = [label for label in previous_compare_labels if label in compare_options.keys()]

compare_products_labels = st.multiselect(
    "ğŸ”„ ë¹„êµ ì œí’ˆ ì„ íƒ (ìµœëŒ€ 2ê°œ)",
    options=list(compare_options.keys()),
    default=valid_compare_labels,
    max_selections=2,
    key="compare_products_select"
)
```

**íš¨ê³¼**: ìœ íš¨í•˜ì§€ ì•Šì€ ë¹„êµ ì œí’ˆ ë¼ë²¨ì„ ìë™ìœ¼ë¡œ í•„í„°ë§í•˜ì—¬ ì˜¤ë¥˜ ë°©ì§€

---

### 5. ë¹ˆ ëª©ë¡ ì‹œ ìë™ ì´ˆê¸°í™”

#### ì¶”ê°€ëœ ë¡œì§
```python
# ë¸Œëœë“œê°€ ì—†ìœ¼ë©´ ì œí’ˆë„ ì´ˆê¸°í™”
if not filtered_brands:
    main_brand = ""
    if 'main_product' in st.session_state:
        st.session_state.main_product = None
    if 'main_product_label' in st.session_state:
        st.session_state.main_product_label = ""

# ì œí’ˆì´ ì—†ìœ¼ë©´ ë¹„êµ ì œí’ˆë„ ì´ˆê¸°í™”
if not product_options_filtered:
    main_product = None
    main_product_label = ""
    if 'compare_products' in st.session_state:
        st.session_state.compare_products = []
    if 'compare_products_labels' in st.session_state:
        st.session_state.compare_products_labels = []
```

**íš¨ê³¼**: í•„í„°ë§ ê²°ê³¼ê°€ ë¹„ì–´ìˆì„ ë•Œ ê´€ë ¨ ì„ íƒì„ ìë™ìœ¼ë¡œ ì´ˆê¸°í™”

---

## ğŸ” ìƒì„¸ ë³€ê²½ ì‚¬í•­

### íŒŒì¼ë³„ ë³€ê²½ ë‚´ìš©

#### `app.py`

**1. ì¹´í…Œê³ ë¦¬ ë³€ê²½ ê°ì§€**
- ì´ì „ ì¹´í…Œê³ ë¦¬ ì„ íƒê³¼ í˜„ì¬ ì„ íƒ ë¹„êµ
- `set()`ì„ ì‚¬ìš©í•˜ì—¬ ìˆœì„œì™€ ë¬´ê´€í•˜ê²Œ ë¹„êµ
- ë³€ê²½ ê°ì§€ ì‹œ ê´€ë ¨ ì„ íƒ ì´ˆê¸°í™”

**2. ì•ˆì „í•œ ì¸ë±ìŠ¤ ê³„ì‚°**
- ë¸Œëœë“œ ì„ íƒ: `try-except`ë¡œ ì¸ë±ìŠ¤ ì˜¤ë¥˜ ë°©ì§€
- ì œí’ˆ ì„ íƒ: `try-except`ë¡œ ì¸ë±ìŠ¤ ì˜¤ë¥˜ ë°©ì§€
- ê°’ì´ ëª©ë¡ì— ì—†ìœ¼ë©´ ì•ˆì „í•˜ê²Œ ì¸ë±ìŠ¤ 0 ì‚¬ìš©

**3. ë¹„êµ ì œí’ˆ ìœ íš¨ì„± ê²€ì¦**
- ì €ì¥ëœ ë¹„êµ ì œí’ˆ ë¼ë²¨ ì¤‘ ìœ íš¨í•œ ê²ƒë§Œ í•„í„°ë§
- ìœ íš¨í•˜ì§€ ì•Šì€ ë¼ë²¨ì€ ìë™ìœ¼ë¡œ ì œì™¸

**4. ë¹ˆ ëª©ë¡ ì²˜ë¦¬**
- í•„í„°ë§ ê²°ê³¼ê°€ ë¹„ì–´ìˆì„ ë•Œ ê´€ë ¨ ì„ íƒ ì´ˆê¸°í™”
- ì—°ì‡„ì ì¸ ì´ˆê¸°í™” ë¡œì§ ì¶”ê°€

---

## ğŸ“Š ë³€ê²½ í†µê³„

### ë³€ê²½ëœ íŒŒì¼
- `ica-github/dev2-2Hour/dev2-main/ui_integration/app.py`

### ì½”ë“œ ë³€ê²½ëŸ‰
- **ì¶”ê°€ëœ ë¼ì¸**: ì•½ +60ì¤„
- **ì‚­ì œëœ ë¼ì¸**: ì•½ -20ì¤„
- **ìˆ˜ì •ëœ ë¼ì¸**: ì•½ +40ì¤„
- **ìˆœ ì¦ê°€**: ì•½ +80ì¤„

### ì£¼ìš” ë³€ê²½ ì‚¬í•­
- ì¹´í…Œê³ ë¦¬ ë³€ê²½ ê°ì§€ ë¡œì§ ì¶”ê°€
- ì•ˆì „í•œ ì¸ë±ìŠ¤ ê³„ì‚° ë¡œì§ ì¶”ê°€
- ë¹„êµ ì œí’ˆ ìœ íš¨ì„± ê²€ì¦ ì¶”ê°€
- ë¹ˆ ëª©ë¡ ì²˜ë¦¬ ë¡œì§ ì¶”ê°€

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ê²°ê³¼

### ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
- âœ… ì¹´í…Œê³ ë¦¬ ì„ íƒ í›„ ì œê±° ì‹œ ì—ëŸ¬ ì—†ìŒ
- âœ… ì¹´í…Œê³ ë¦¬ ë³€ê²½ ì‹œ ë¸Œëœë“œ ìë™ ì´ˆê¸°í™” í™•ì¸
- âœ… ì¹´í…Œê³ ë¦¬ ë³€ê²½ ì‹œ ì œí’ˆ ìë™ ì´ˆê¸°í™” í™•ì¸
- âœ… ì¹´í…Œê³ ë¦¬ ë³€ê²½ ì‹œ ë¹„êµ ì œí’ˆ ìë™ ì´ˆê¸°í™” í™•ì¸
- âœ… ë¸Œëœë“œê°€ í•„í„°ë§ëœ ëª©ë¡ì— ì—†ì„ ë•Œ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬
- âœ… ì œí’ˆì´ í•„í„°ë§ëœ ëª©ë¡ì— ì—†ì„ ë•Œ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬
- âœ… ë¹„êµ ì œí’ˆì´ í•„í„°ë§ëœ ëª©ë¡ì— ì—†ì„ ë•Œ ìë™ í•„í„°ë§

### ì—ëŸ¬ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸
- âœ… ì¹´í…Œê³ ë¦¬ A ì„ íƒ â†’ ë¸Œëœë“œ X ì„ íƒ â†’ ì¹´í…Œê³ ë¦¬ A ì œê±°: ì •ìƒ ì‘ë™
- âœ… ì¹´í…Œê³ ë¦¬ A, B ì„ íƒ â†’ ë¸Œëœë“œ X ì„ íƒ â†’ ì¹´í…Œê³ ë¦¬ B ì œê±°: ì •ìƒ ì‘ë™
- âœ… ëª¨ë“  ì¹´í…Œê³ ë¦¬ ì œê±°: ì •ìƒ ì‘ë™ (ë¹ˆ ëª©ë¡ ì²˜ë¦¬)
- âœ… ì¹´í…Œê³ ë¦¬ ë³€ê²½ í›„ ë¸Œëœë“œ/ì œí’ˆ ì¬ì„ íƒ: ì •ìƒ ì‘ë™

### ë¬¸ë²• ê²€ì‚¬
- âœ… Python ë¬¸ë²• ì˜¤ë¥˜ ì—†ìŒ
- âœ… `py_compile` í†µê³¼

### Linter ê²€ì‚¬
- âœ… Linter ì˜¤ë¥˜ ì—†ìŒ

---

## ğŸ¯ ê°œì„  íš¨ê³¼

### ì•ˆì •ì„± í–¥ìƒ
- **ì—ëŸ¬ ë°œìƒ ê°€ëŠ¥ì„±**: ë†’ìŒ â†’ ì—†ìŒ
- **ì˜ˆì™¸ ì²˜ë¦¬**: ë¶€ì¡± â†’ ì™„ì „
- **ë°©ì–´ì  í”„ë¡œê·¸ë˜ë°**: ë¯¸ì ìš© â†’ ì ìš©

### ì‚¬ìš©ì ê²½í—˜ ê°œì„ 
- **ì—ëŸ¬ ë°œìƒ**: ìì£¼ ë°œìƒ â†’ ë°œìƒ ì•ˆ í•¨
- **ì•± ì•ˆì •ì„±**: ë¶ˆì•ˆì • â†’ ì•ˆì •ì 
- **ì‚¬ìš©ì ì‹ ë¢°ë„**: ë‚®ìŒ â†’ ë†’ìŒ
- **ì§ê´€ì  ë™ì‘**: ì¹´í…Œê³ ë¦¬ ë³€ê²½ ì‹œ ê´€ë ¨ ì„ íƒ ìë™ ì´ˆê¸°í™”

---

## ğŸ“ ì‚¬ìš©ì ê°€ì´ë“œ

### ì¹´í…Œê³ ë¦¬ ë³€ê²½ ë™ì‘

**ìë™ ì´ˆê¸°í™”**
- ì¹´í…Œê³ ë¦¬ë¥¼ ì¶”ê°€/ì œê±°í•˜ë©´ ë‹¤ìŒ í•­ëª©ì´ ìë™ìœ¼ë¡œ ì´ˆê¸°í™”ë©ë‹ˆë‹¤:
  - ë©”ì¸ ë¸Œëœë“œ ì„ íƒ
  - ë©”ì¸ ì œí’ˆ ì„ íƒ
  - ë¹„êµ ì œí’ˆ ì„ íƒ

**ì´ìœ **
- í•„í„°ë§ëœ ëª©ë¡ì´ ë³€ê²½ë˜ë¯€ë¡œ ì´ì „ ì„ íƒì´ ìœ íš¨í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ
- ì‚¬ìš©ìê°€ ìƒˆë¡œìš´ ì¹´í…Œê³ ë¦¬ì— ë§ê²Œ ë‹¤ì‹œ ì„ íƒí•  ìˆ˜ ìˆë„ë¡ ì´ˆê¸°í™”

**ì‚¬ìš© íŒ**
- ì¹´í…Œê³ ë¦¬ë¥¼ ë¨¼ì € ì„ íƒí•œ í›„ ë¸Œëœë“œ/ì œí’ˆì„ ì„ íƒí•˜ëŠ” ê²ƒì„ ê¶Œì¥
- ì¹´í…Œê³ ë¦¬ë¥¼ ë³€ê²½í•  ë•ŒëŠ” ê´€ë ¨ ì„ íƒì´ ì´ˆê¸°í™”ë¨ì„ ì¸ì§€

---

## âœ… ê²°ë¡ 

**ì¹´í…Œê³ ë¦¬ ì œê±° ì—ëŸ¬ ìˆ˜ì • ì™„ë£Œ** âœ…

### ìˆ˜ì • ìš”ì•½
1. âœ… ì¹´í…Œê³ ë¦¬ ë³€ê²½ ê°ì§€ ë° ê´€ë ¨ ì„ íƒ ìë™ ì´ˆê¸°í™”
2. âœ… ì•ˆì „í•œ ì¸ë±ìŠ¤ ê³„ì‚° ë¡œì§ êµ¬í˜„
3. âœ… ë¹„êµ ì œí’ˆ ìœ íš¨ì„± ê²€ì¦ ì¶”ê°€
4. âœ… ë¹ˆ ëª©ë¡ ì²˜ë¦¬ ë¡œì§ ì¶”ê°€

### ë°°í¬ ì¤€ë¹„
- âœ… ì½”ë“œ ìˆ˜ì • ì™„ë£Œ
- âœ… ë¬¸ë²• ê²€ì‚¬ í†µê³¼
- âœ… Linter ê²€ì‚¬ í†µê³¼
- âœ… ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ í†µê³¼
- âœ… ì—ëŸ¬ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸ í†µê³¼

**ì—ëŸ¬ ìˆ˜ì • ì™„ë£Œ - ì•ˆì •ì„± í–¥ìƒ** ğŸ‰

---

**ì‘ì„±ì**: ê°œë°œíŒ€  
**ìˆ˜ì •ì¼**: 2026-01-12  
**ìƒíƒœ**: âœ… ì—ëŸ¬ ìˆ˜ì • ì™„ë£Œ - ì•ˆì •ì„± í–¥ìƒ
