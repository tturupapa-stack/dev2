# 🤖 에이전트 사용 가이드

로직 설계 단계에서 Claude Code를 효율적으로 활용하기 위한 핵심 에이전트 구성입니다.

## 에이전트 구성

### 1. 검증 로직 에이전트 (The Validator Architect)
- **파일**: `agents/validator_architect.md`
- **담당**: 리뷰 데이터의 진위 여부 판별, 신뢰도 점수 계산
- **작업 모듈**: `core/validator.py`

### 2. 약사 인사이트 에이전트 (The Pharma-Insight Analyzer)
- **파일**: `agents/pharma_insight_analyzer.md`
- **담당**: 약사 페르소나 기반 AI 분석, JSON 구조화
- **작업 모듈**: `core/analyzer.py`

## 에이전트 활용 방법

### Step 1: 에이전트 선택
작업할 모듈에 따라 적절한 에이전트를 선택합니다:
- `validator.py` 작업 → 검증 로직 에이전트
- `analyzer.py` 작업 → 약사 인사이트 에이전트

### Step 2: 에이전트 프롬프트 작성
선택한 에이전트의 시스템 프롬프트를 참조하여 작업 지시를 내립니다.

**예시:**
```
당신은 검증 로직 에이전트입니다. 
agents/validator_architect.md의 역할 정의를 참조하여 
13단계 광고 판별 체크리스트를 구현해주세요.
```

### Step 3: 개발일지 기록
작업 완료 후 `logs/dev_log.md`에 표준 양식으로 기록합니다.

## 에이전트 협업 시나리오

| 단계 | 에이전트 역할 | 부사수(사용자)의 역할 |
| --- | --- | --- |
| **Step 1** | **검증 에이전트**가 13단계 필터 코드를 짬 | 코드의 가독성을 확인하고 테스트 데이터 주입 |
| **Step 2** | **인사이트 에이전트**가 약사 말투로 분석 프롬프트 설계 | 출력된 JSON 결과가 기획안 규격과 맞는지 대조 |
| **Step 3** | **통합** (Claude Code) | 두 로직을 연결하여 하나의 파이프라인으로 완성 |

## 사전 준비 사항

### 1. Context 폴더 구축
- `SPEC.md` - 기획안 (프로젝트 루트)
- `logs/dev_log.md` - 개발일지 표준 양식
- `agents/interface.md` - 데이터 입출력 인터페이스

### 2. 데이터 입출력 정의
- `agents/interface.md` 참조
- 두 에이전트 간 데이터 형식 약속 확인

### 3. 공통 규칙 (System Prompt)
- 모든 답변은 한국어 주석을 포함할 것
- 표준 개발일지 양식을 따를 것
- 에러 처리를 반드시 포함할 것

## 에이전트별 체크리스트

### 검증 로직 에이전트
- [ ] 13단계 체크리스트가 모두 구현되었는가?
- [ ] 신뢰도 점수 공식이 정확히 구현되었는가?
- [ ] 정규표현식 패턴이 광고 문구를 정확히 탐지하는가?
- [ ] 예외 처리가 적절히 구현되었는가?

### 약사 인사이트 에이전트
- [ ] 약사 페르소나가 일관되게 유지되는가?
- [ ] JSON 형식이 기획안 규격과 일치하는가?
- [ ] 할루시네이션 방지 로직이 작동하는가?
- [ ] 프롬프트 변경 이력이 기록되었는가?

## 참조 문서

- `agents/validator_architect.md` - 검증 로직 에이전트 상세
- `agents/pharma_insight_analyzer.md` - 약사 인사이트 에이전트 상세
- `agents/interface.md` - 데이터 입출력 인터페이스 정의
- `logs/dev_log.md` - 개발일지 표준 양식
- `logs/prompt_log.md` - 프롬프트일지
- `logs/output_review.md` - 결과값 검토

## 다음 단계

1. **SPEC.md 작성**: 기획안 문서 준비
2. **첫 번째 에이전트 선택**: 어떤 모듈부터 시작할지 결정
3. **표준 개발일지 기반 명령어 작성**: 에이전트에게 내릴 첫 번째 작업 지시 준비





